## 프로그래머가 알아야 하는 응답 지연 값

**알고 있어야 하는 결론들**

- 메모리는 빠르지만 디스크는 아직도 느리다.
- 디스크 탐색(seek)은 가능한 한 피하라
- 단순한 압축 알고리즘은 빠르다.
- 데이터를 인터넷으로 전송하기 전에 가능하면 압축하라
- 데이터 센터는 보통 여러 지역에 분산되어 있고, 센터들 간에 데이터를 주고받는 데는 시간이 걸린다.

<br>

## **고가용성과 관계된 수치들**

- 고가용성
    - 시스템이 오랜 시간 동안 지속적으로 중단없이 운영될 수 있는 능력을 지칭하는 용어
    - 100% → 시스템이 한번도 중단된 적이 없음을 의미
    - 대부분의 서비스는 99% ~ 100%
    
<br>

## **예제 : 트위터 qps와 저장소 요구량 추정**

가정

- 월간 능동 사용자(monthly active user) → 3억명
- 50% 사용자가 트위터를 매일 사용
- 평균적으로 각 사용자는 매일 2건의 트윗을 올림
- 미디어를 포함하는 트윗은 10%정도
- 데이터는 5년간 보관

추정

QPS(Query Per Second)추정치

- 일간 능동 사용자(daily active user,DAU) = 3억 *50% = 1.5억
- QPS = 1.5억 * 2 트윗/24시간/3600초 = 약 3500
- 최대 QPS(peek QPS) = 2 * QPS = 약 70000

미디어 저장을 위한 저장소 요구량

- 평균 트윗 크기
    - 미디어에 1MB
- 미디어 저장소 요구량 : 1.5억 * 2 *10%  * 1MB = 30TB/일
- 5년간 미디어를 보관하기 위한 저장소 요구량 : 30TB * 365 * 5 = 약 55PB

<br>

## 팁

- 근사치를 활용한 계산 : 99987 / 9.1 →10000/10 으로 간소화
- 나중에 살펴볼 수 있도록 가정을 적어두라
- 단위를 붙이라 : 5라고 적으면 5KB인지 5MB인지 알 수 없다.
